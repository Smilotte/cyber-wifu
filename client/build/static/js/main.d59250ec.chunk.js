(this.webpackJsonpwifu=this.webpackJsonpwifu||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(11),o=n.n(a),c=n(28),i=n.n(c),r=(n(37),n(1)),u=n(2),s=n(6),l=n(7),d=(n(38),n(13)),h=(n(39),n(51)),m=n(9),p=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).submit=a.submit.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"submit",value:function(e){e.preventDefault();var t=document.querySelector(".chat-window-message");console.log(t.value);var n=t.value;""!==n&&(this.handleMessage(n),this.handleReply(n))}},{key:"getVoice",value:function(e){h.a.get("http://cyberwifu.vipgz4.91tunnel.com/audio",{responseType:"arraybuffer",params:{text:e}}).then((function(e){var t=new(window.AudioContext||window.webkitAudioContext);t.decodeAudioData(e.data,(function(e){var n=t.createBufferSource();n.buffer=e,n.connect(t.destination),n.start(0)}))})).catch((function(e){return console.log(e)}))}},{key:"handleMessage",value:function(e){var t=document.querySelector(".chat-thread"),n=document.querySelector(".chat-window-message"),a=document.createElement("li");a.className="senderMsg";var o=document.createTextNode(e);a.appendChild(o),t.appendChild(a),t.scrollTop=t.scrollHeight,n.value=""}},{key:"handleReply",value:function(e){var t=this;h.a.get("http://cyberwifu.vipgz4.91tunnel.com/chat",{responseType:"text",params:{text:e}}).then((function(e){console.log(e.data);var n=e.data;if(""!==n){t.getVoice(n);var a=document.querySelector(".chat-thread"),o=document.createElement("li");o.className="receiverMsg";var c=document.createTextNode(n);o.appendChild(c),a.appendChild(o),a.scrollTop=a.scrollHeight}})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"chat-box",children:[Object(m.jsx)("ul",{className:"chat-thread"}),Object(m.jsx)("form",{className:"chat-window",onSubmit:this.submit,children:Object(m.jsx)("input",{className:"chat-window-message",name:"chat-window-message",type:"text",autoComplete:"off",autoFocus:!0})})]})}}]),n}(o.a.Component),f=n(31);Object(f.a)({sayHello:!1,transitionTime:2e3,source:"build/assets/hiyori_pro_en/runtime/",models:{path:"hiyori_pro_t10.model3.json",stageStyle:{width:"auto",height:"auto"}},tips:!1});var b=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(m.jsx)(p,{})}}]),n}(o.a.Component),v=b,g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),o(e),c(e),i(e)}))};i.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(v,{})}),document.getElementById("root")),g()}},[[49,1,2]]]);
//# sourceMappingURL=main.d59250ec.chunk.js.map